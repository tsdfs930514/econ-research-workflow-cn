{
  "permissions": {
    "deny": [
      "Edit(data/raw/**)",
      "Edit(**/data/raw/**)",
      "Write(data/raw/**)",
      "Write(**/data/raw/**)",
      "Bash(*rm *data/raw*)",
      "Bash(*mv *data/raw*)",
      "Bash(*>*data/raw*)",
      "Bash(*cd*data/raw*&&*rm*)",
      "Bash(*cd*data/raw*&&*del*)",
      "Bash(*cd*data/raw*;*rm*)",
      "Bash(*rm -rf /)",
      "Bash(*rm -rf /*)",
      "Bash(*git push*--force*)",
      "Bash(*git push*-f *)",
      "Bash(*git reset --hard*)",
      "Bash(*git clean*-f*)",
      "Bash(*curl*|*sh*)",
      "Bash(*curl*|*bash*)",
      "Bash(*wget*|*sh*)",
      "Bash(*wget*|*bash*)",
      "Read(*.env)",
      "Read(.env.*)",
      "Edit(*.env)",
      "Edit(.env.*)",
      "Write(*.env)",
      "Write(.env.*)",
      "Read(*.credentials*)",
      "Edit(*.credentials*)",
      "Write(*.credentials*)",
      "Edit(.claude/hooks/**)",
      "Write(.claude/hooks/**)",
      "Edit(.claude/scripts/**)",
      "Write(.claude/scripts/**)",
      "Edit(.claude/settings.json)",
      "Write(.claude/settings.json)"
    ]
  },
  "hooks": {
    "SessionStart": [
      {
        "matcher": "",
        "hooks": [
          {
            "type": "command",
            "command": "python \"$CLAUDE_PROJECT_DIR/.claude/hooks/session-loader.py\"",
            "timeout": 10
          }
        ]
      }
    ],
    "PreCompact": [
      {
        "matcher": "",
        "hooks": [
          {
            "type": "prompt",
            "prompt": "在上下文压缩之前，请在 MEMORY.md 的 Session Log 部分追加一条简要会话摘要。格式：`| YYYY-MM-DD | 摘要 |`。包含关键决策、发现的问题以及当前质量评分（如已知）。"
          }
        ]
      }
    ],
    "PostToolUse": [
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "command",
            "command": "python \"$CLAUDE_PROJECT_DIR/.claude/hooks/stata-log-check.py\"",
            "timeout": 10
          },
          {
            "type": "command",
            "command": "python \"$CLAUDE_PROJECT_DIR/.claude/hooks/raw-data-guard.py\"",
            "timeout": 10
          }
        ]
      }
    ]
  }
}
